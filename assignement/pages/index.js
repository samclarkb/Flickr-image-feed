import Head from 'next/head'
// import Image from 'next/image'
import styles from '../styles/Home.module.css'
import { useState, useEffect } from 'react'
import ImageComponent from './components/ImageComponent'

export default function Home() {
	const [photos, setPhotos] = useState([])

	const getPhotoRequest = async () => {
		const url =
			'https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=86f4b616767d29da34b4d5b7953575ab&format=json&nojsoncallback=1&auth_token=72157720841947456-b67a0b9be0e40840&api_sig=c25ef8c7bf94ed6a302c5d58530f75c8'

		const response = await fetch(url)
		const data = await response.json()

		console.log(data.photos.photo)
		setPhotos(data.photos.photo)
	}

	useEffect(data => {
		getPhotoRequest(data)
	}, [])

	return (
		<div className={styles.container}>
			<Head>
				<title>Create Next App</title>
				<meta name="description" content="Generated by create next app" />
				<link rel="icon" href="/favicon.ico" />
			</Head>

			<main className={styles.main}>
				<input type="text"></input>
				<ImageComponent photos={photos} />
			</main>
		</div>
	)
}
